import{Q as e}from"./vue-quill.snow-DtCwzJgX.js";import{d as l,a as t,r as a,j as o,c as i,e as u,w as s,f as r,o as n,b as d,H as c,F as p,D as m,h as b,J as v,k as g,t as h,g as f,l as y,s as w,E as _,_ as V}from"./index-Lit_3WrB.js";const k={class:"help-container"},B={class:"card-header"},x={class:"search-area"},C={class:"category-tabs"},U={class:"status-text"},T={class:"action-buttons"},z={class:"pagination-container"},F={class:"editor-container"},G={class:"editor-toolbar"},q={class:"status-text"},j={class:"dialog-footer"},H={class:"preview-container"},D={key:0,class:"category-tag"},I=["innerHTML"],L=V(l({__name:"HelpView",setup(l){const V=t({title:"",category:"",status:""}),L=[{label:"账号相关",value:"account"},{label:"服务相关",value:"service"},{label:"教程指南",value:"tutorial"}],S=e=>{const l=L.find((l=>l.value===e));return l?l.label:"未分类"},M=e=>{switch(e){case"account":return"success";case"service":return"warning";case"tutorial":return"info";default:return""}},$=a(!1),E=a(1),J=a(10),P=a(100),Q=a(!1),R=a("add"),A=a(),K=t({id:0,title:"",subtitle:"",category:"",content:"",sort:0,statusBool:!0}),N=a(!1),O={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]},placeholder:"请输入文档内容..."},W=t({title:[{required:!0,message:"请输入文档标题",trigger:"blur"},{min:2,max:50,message:"长度在 2 到 50 个字符",trigger:"blur"}],subtitle:[{max:100,message:"长度不能超过 100 个字符",trigger:"blur"}],category:[{required:!0,message:"请选择文档分类",trigger:"change"}],content:[{required:!0,message:"请输入文档内容",trigger:"blur"}]}),X=a([{id:1,title:"Gmail邮箱使用指南",subtitle:"Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明",category:"account",content:'<h3>Gmail账号使用指南</h3><p>Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明：</p><h4>登录步骤</h4><ol><li>访问 <a href="https://mail.google.com" target="_blank">https://mail.google.com</a></li><li>输入您购买的Gmail账号</li><li>输入对应的密码</li><li>如果提示需要验证，请按照提示完成验证步骤</li></ol>',sort:1,statusBool:!0,createTime:"2024-03-01 10:00:00"},{id:2,title:"Facebook账号使用指南",subtitle:"Facebook是全球最大的社交媒体平台之一，以下是使用Facebook账号的基本说明",category:"account",content:'<h3>Facebook账号使用指南</h3><p>Facebook是全球最大的社交媒体平台之一，以下是使用Facebook账号的基本说明：</p><h4>登录步骤</h4><ol><li>访问 <a href="https://www.facebook.com" target="_blank">https://www.facebook.com</a></li><li>输入您购买的Facebook账号和密码</li><li>如果提示需要验证，请按照提示完成验证步骤</li><li>登录成功后，建议立即修改密码和个人信息</li></ol>',sort:2,statusBool:!0,createTime:"2024-03-02 10:00:00"},{id:3,title:"如何添加新商品",subtitle:"详细介绍如何在系统中添加新商品的步骤",category:"tutorial",content:'<h3>如何添加新商品</h3><p>添加新商品的步骤如下：</p><ol><li>进入商品管理页面</li><li>点击右上角的"新增商品"按钮</li><li>在弹出的表单中填写商品信息，包括商品名称、商品分类、商品特性、价格、库存等</li><li>选择发货方式（自动发货或手动发货）</li><li>填写商品描述</li><li>点击"确定"按钮保存</li></ol>',sort:3,statusBool:!0,createTime:"2024-03-03 10:00:00"},{id:4,title:"如何处理待发货订单",subtitle:"详细介绍如何处理系统中的待发货订单",category:"service",content:'<h3>如何处理待发货订单</h3><p>处理待发货订单的步骤如下：</p><ol><li>进入订单管理页面</li><li>在订单列表中找到状态为"待发货"的订单</li><li>点击该订单右侧的"发货"按钮</li><li>在弹出的表单中填写账号信息（账号、密码等）</li><li>填写备注信息（可选）</li><li>点击"确认发货"按钮完成发货</li></ol><p>发货后，订单状态将自动更新为"已发货"。</p>',sort:4,statusBool:!1,createTime:"2024-03-04 10:00:00"}]),Y=a(""),Z=a([]),ee=()=>{V.category=Y.value,te()},le=()=>{V.title="",V.category="",V.status="",Y.value="",te()},te=()=>{$.value=!0,Z.value=X.value.filter((e=>{const l=!V.title||e.title.includes(V.title),t=!V.category||e.category===V.category,a=!V.status||"published"===V.status&&e.statusBool||"unpublished"===V.status&&!e.statusBool;return l&&t&&a})),setTimeout((()=>{$.value=!1}),500)},ae=e=>{J.value=e,te()},oe=e=>{E.value=e,te()},ie=()=>{N.value=!0},ue=()=>{R.value="add",se(),Q.value=!0},se=()=>{K.id=0,K.title="",K.subtitle="",K.category="",K.content="",K.sort=0,K.statusBool=!0},re=async()=>{A.value&&await A.value.validate(((e,l)=>{if(e){if("add"===R.value){const e={id:Date.now(),title:K.title,subtitle:K.subtitle,category:K.category,content:K.content,sort:K.sort,statusBool:K.statusBool,createTime:(new Date).toLocaleString()};X.value.unshift(e),_.success("添加成功")}else{const e=X.value.findIndex((e=>e.id===K.id));-1!==e&&(X.value[e]={...X.value[e],title:K.title,subtitle:K.subtitle,category:K.category,content:K.content,sort:K.sort,statusBool:K.statusBool},_.success("编辑成功"))}Q.value=!1,se()}}))};return o((()=>{Z.value=[...X.value],te()})),(l,t)=>{const a=r("el-button"),o=r("el-input"),se=r("el-form-item"),ne=r("el-option"),de=r("el-select"),ce=r("el-form"),pe=r("el-tab-pane"),me=r("el-tabs"),be=r("el-table-column"),ve=r("el-tag"),ge=r("el-switch"),he=r("el-table"),fe=r("el-pagination"),ye=r("el-card"),we=r("el-input-number"),_e=r("el-dialog"),Ve=v("loading");return n(),i("div",k,[u(ye,{class:"box-card"},{header:s((()=>[d("div",B,[t[16]||(t[16]=d("span",null,"文档设置",-1)),u(a,{type:"primary",onClick:ue},{default:s((()=>t[15]||(t[15]=[b("新增文档")]))),_:1})])])),default:s((()=>[t[22]||(t[22]=d("div",{class:"page-description"},[d("p",null,"管理网站前台显示的文档内容，您可以添加、编辑、删除文档，并设置文档的排序和显示状态。")],-1)),d("div",x,[u(ce,{inline:!0,model:V,class:"demo-form-inline"},{default:s((()=>[u(se,{label:"文档标题"},{default:s((()=>[u(o,{modelValue:V.title,"onUpdate:modelValue":t[0]||(t[0]=e=>V.title=e),placeholder:"请输入文档标题",clearable:""},null,8,["modelValue"])])),_:1}),u(se,{label:"文档分类"},{default:s((()=>[u(de,{modelValue:V.category,"onUpdate:modelValue":t[1]||(t[1]=e=>V.category=e),placeholder:"请选择分类",clearable:"",style:{width:"168px"}},{default:s((()=>[u(ne,{label:"全部",value:""}),(n(),i(p,null,m(L,(e=>u(ne,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),u(se,{label:"状态"},{default:s((()=>[u(de,{modelValue:V.status,"onUpdate:modelValue":t[2]||(t[2]=e=>V.status=e),placeholder:"请选择",clearable:"",style:{width:"168px"}},{default:s((()=>[u(ne,{label:"全部",value:""}),u(ne,{label:"已发布",value:"published"}),u(ne,{label:"未发布",value:"unpublished"})])),_:1},8,["modelValue"])])),_:1}),u(se,null,{default:s((()=>[u(a,{type:"primary",onClick:te},{default:s((()=>t[17]||(t[17]=[b("查询")]))),_:1}),u(a,{onClick:le},{default:s((()=>t[18]||(t[18]=[b("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),d("div",C,[u(me,{modelValue:Y.value,"onUpdate:modelValue":t[3]||(t[3]=e=>Y.value=e),onTabClick:ee,class:"category-filter-tabs"},{default:s((()=>[u(pe,{label:"全部文档",name:""}),u(pe,{label:"账号相关",name:"account"}),u(pe,{label:"服务相关",name:"service"}),u(pe,{label:"教程指南",name:"tutorial"})])),_:1},8,["modelValue"])]),c((n(),g(he,{data:Z.value,style:{width:"100%"},border:"",stripe:""},{default:s((()=>[u(be,{type:"index",label:"序号",width:"60"}),u(be,{prop:"title",label:"文档标题","min-width":"150","show-overflow-tooltip":""}),u(be,{prop:"subtitle",label:"副标题","min-width":"150","show-overflow-tooltip":""}),u(be,{prop:"category",label:"文档分类",width:"120"},{default:s((e=>[u(ve,{type:M(e.row.category)},{default:s((()=>[b(h(S(e.row.category)),1)])),_:2},1032,["type"])])),_:1}),u(be,{label:"文档内容",width:"100",align:"center"},{default:s((e=>[u(a,{type:"primary",link:"",onClick:l=>{return t=e.row,K.id=t.id,K.title=t.title,K.subtitle=t.subtitle,K.content=t.content,void(N.value=!0);var t}},{default:s((()=>t[19]||(t[19]=[b("预览")]))),_:2},1032,["onClick"])])),_:1}),u(be,{prop:"sort",label:"排序",width:"80"}),u(be,{prop:"status",label:"状态",width:"100"},{default:s((e=>[u(ge,{modelValue:e.row.statusBool,"onUpdate:modelValue":l=>e.row.statusBool=l,"active-value":!0,"inactive-value":!1,onChange:l=>((e,l)=>{l.status=e?"已发布":"未发布",_.success(`状态已更新为：${l.status}`)})(l,e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"]),d("span",U,h(e.row.statusBool?"已发布":"未发布"),1)])),_:1}),u(be,{prop:"createTime",label:"创建时间",width:"180"}),u(be,{label:"操作",width:"180",fixed:"right"},{default:s((e=>[d("div",T,[u(a,{size:"small",type:"primary",onClick:l=>{return t=e.row,R.value="edit",K.id=t.id,K.title=t.title,K.subtitle=t.subtitle,K.category=t.category,K.content=t.content,K.sort=t.sort,K.statusBool=t.statusBool,void(Q.value=!0);var t}},{default:s((()=>t[20]||(t[20]=[b("编辑")]))),_:2},1032,["onClick"]),u(a,{size:"small",type:"danger",onClick:l=>{return t=e.row,void w.confirm(`确定要删除文档"${t.title}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{const e=X.value.findIndex((e=>e.id===t.id));-1!==e&&X.value.splice(e,1),_.success("删除成功")})).catch((()=>{_.info("已取消删除")}));var t}},{default:s((()=>t[21]||(t[21]=[b("删除")]))),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])),[[Ve,$.value]]),d("div",z,[u(fe,{"current-page":E.value,"onUpdate:currentPage":t[4]||(t[4]=e=>E.value=e),"page-size":J.value,"onUpdate:pageSize":t[5]||(t[5]=e=>J.value=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:P.value,onSizeChange:ae,onCurrentChange:oe,background:!0},null,8,["current-page","page-size","total"])])])),_:1}),u(_e,{modelValue:Q.value,"onUpdate:modelValue":t[13]||(t[13]=e=>Q.value=e),title:"add"===R.value?"新增文档":"编辑文档",width:"800px"},{footer:s((()=>[d("span",j,[u(a,{onClick:t[12]||(t[12]=e=>Q.value=!1)},{default:s((()=>t[25]||(t[25]=[b("取消")]))),_:1}),u(a,{type:"primary",onClick:re},{default:s((()=>t[26]||(t[26]=[b("确定")]))),_:1})])])),default:s((()=>[u(ce,{model:K,"label-width":"100px",rules:W,ref_key:"helpFormRef",ref:A},{default:s((()=>[u(se,{label:"文档标题",prop:"title"},{default:s((()=>[u(o,{modelValue:K.title,"onUpdate:modelValue":t[6]||(t[6]=e=>K.title=e),placeholder:"请输入文档标题"},null,8,["modelValue"])])),_:1}),u(se,{label:"副标题",prop:"subtitle"},{default:s((()=>[u(o,{modelValue:K.subtitle,"onUpdate:modelValue":t[7]||(t[7]=e=>K.subtitle=e),placeholder:"请输入副标题"},null,8,["modelValue"])])),_:1}),u(se,{label:"文档分类",prop:"category"},{default:s((()=>[u(de,{modelValue:K.category,"onUpdate:modelValue":t[8]||(t[8]=e=>K.category=e),placeholder:"请选择文档分类",style:{width:"100%"}},{default:s((()=>[(n(),i(p,null,m(L,(e=>u(ne,{key:e.value,label:e.label,value:e.value},null,8,["label","value"]))),64))])),_:1},8,["modelValue"])])),_:1}),u(se,{label:"文档内容",prop:"content"},{default:s((()=>[d("div",F,[d("div",G,[t[24]||(t[24]=d("div",null,null,-1)),u(a,{size:"small",onClick:ie},{default:s((()=>t[23]||(t[23]=[b("预览效果")]))),_:1})]),u(f(e),{content:K.content,"onUpdate:content":t[9]||(t[9]=e=>K.content=e),contentType:"html",theme:"snow",toolbar:"full",options:O,style:{height:"400px"}},null,8,["content"])])])),_:1}),u(se,{label:"排序",prop:"sort"},{default:s((()=>[u(we,{modelValue:K.sort,"onUpdate:modelValue":t[10]||(t[10]=e=>K.sort=e),min:0,max:999,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),u(se,{label:"状态"},{default:s((()=>[u(ge,{modelValue:K.statusBool,"onUpdate:modelValue":t[11]||(t[11]=e=>K.statusBool=e)},null,8,["modelValue"]),d("span",q,h(K.statusBool?"已发布":"未发布"),1)])),_:1})])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"]),u(_e,{modelValue:N.value,"onUpdate:modelValue":t[14]||(t[14]=e=>N.value=e),title:"文档预览",width:"70%","destroy-on-close":""},{default:s((()=>[d("div",H,[d("h2",null,h(K.title),1),d("h3",null,h(K.subtitle),1),K.category?(n(),i("div",D,[u(ve,{type:M(K.category)},{default:s((()=>[b(h(S(K.category)),1)])),_:1},8,["type"])])):y("",!0),d("div",{class:"preview-content",innerHTML:K.content},null,8,I)])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-eb494c0b"]]);export{L as default};
