import{d as e,r as a,a as l,c as s,b as r,e as o,w as t,f as i,o as u,u as n,g as d,m,h as c,E as p,_ as g}from"./index-DdCtHfSO.js";const f={class:"login-container"},h={class:"login-box"},b={class:"login-header"},v={class:"logo"},_={class:"login-form"},V={class:"captcha-container"},w=["src"],x={class:"login-options"},k=g(e({__name:"LoginView",setup(e){const g=n(),k=a(),y=a(!1),U=a("https://picsum.photos/120/40?random="+Math.random()),q=l({username:"",password:"",captcha:"",remember:!1}),z=l({username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:20,message:"长度在 6 到 20 个字符",trigger:"blur"}],captcha:[{required:!0,message:"请输入验证码",trigger:"blur"},{min:4,max:6,message:"长度在 4 到 6 个字符",trigger:"blur"}]}),I=()=>{U.value="https://picsum.photos/120/40?random="+Math.random()},S=async()=>{k.value&&await k.value.validate(((e,a)=>{e&&(y.value=!0,setTimeout((()=>{if(y.value=!1,"admin"===q.username&&"123456"===q.password){p.success("登录成功"),localStorage.setItem("token","admin-token"),localStorage.setItem("userInfo",JSON.stringify({username:q.username,role:"管理员",avatar:"https://picsum.photos/200"}));const e=g.currentRoute.value.query.redirect;g.push(e||"/")}else p.error("用户名或密码错误")}),1e3))}))};return(e,a)=>{const l=i("el-icon"),n=i("el-input"),p=i("el-form-item"),g=i("el-checkbox"),C=i("el-link"),F=i("el-button"),L=i("el-form");return u(),s("div",f,[a[11]||(a[11]=r("div",{class:"login-background"},null,-1)),r("div",h,[r("div",b,[r("div",v,[o(l,null,{default:t((()=>[o(d(m))])),_:1}),a[4]||(a[4]=r("h2",{class:"title"},"星海后台管理系统",-1))]),a[5]||(a[5]=r("p",{class:"subtitle"},"专业的邮箱账号和社交媒体账号管理平台",-1))]),r("div",_,[a[9]||(a[9]=r("h3",{class:"form-title"},"账号登录",-1)),o(L,{ref_key:"loginFormRef",ref:k,model:q,rules:z,"label-position":"top"},{default:t((()=>[o(p,{prop:"username"},{default:t((()=>[o(n,{modelValue:q.username,"onUpdate:modelValue":a[0]||(a[0]=e=>q.username=e),placeholder:"请输入用户名","prefix-icon":"User",size:"large",clearable:""},null,8,["modelValue"])])),_:1}),o(p,{prop:"password"},{default:t((()=>[o(n,{modelValue:q.password,"onUpdate:modelValue":a[1]||(a[1]=e=>q.password=e),type:"password",placeholder:"请输入密码","prefix-icon":"Lock",size:"large","show-password":"",clearable:""},null,8,["modelValue"])])),_:1}),o(p,{prop:"captcha"},{default:t((()=>[r("div",V,[o(n,{modelValue:q.captcha,"onUpdate:modelValue":a[2]||(a[2]=e=>q.captcha=e),placeholder:"请输入验证码","prefix-icon":"PictureFilled",size:"large",clearable:""},null,8,["modelValue"]),r("div",{class:"captcha-image",onClick:I},[r("img",{src:U.value,alt:"验证码"},null,8,w)])])])),_:1}),r("div",x,[o(g,{modelValue:q.remember,"onUpdate:modelValue":a[3]||(a[3]=e=>q.remember=e)},{default:t((()=>a[6]||(a[6]=[c("记住密码")]))),_:1},8,["modelValue"]),o(C,{type:"primary",underline:!1},{default:t((()=>a[7]||(a[7]=[c("忘记密码？")]))),_:1})]),o(p,null,{default:t((()=>[o(F,{type:"primary",loading:y.value,onClick:S,size:"large",class:"login-button"},{default:t((()=>a[8]||(a[8]=[c("登录")]))),_:1},8,["loading"])])),_:1})])),_:1},8,["model","rules"])]),a[10]||(a[10]=r("div",{class:"login-footer"},[r("p",null,"© 2023 星海科技有限公司 版权所有")],-1))])])}}}),[["__scopeId","data-v-85390b42"]]);export{k as default};
