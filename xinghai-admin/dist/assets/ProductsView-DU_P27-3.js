import{d as e,a as l,r as a,n as t,i,j as s,c as r,e as n,w as o,f as c,o as d,b as u,G as p,h as m,H as h,k as v,t as g,l as f,q as w,F as y,C as b,g as P,I as _,J as k,K as V,L as x,M,N as q,E as $,s as G,u as T,_ as C}from"./index-DdCtHfSO.js";import{Q as U}from"./vue-quill.snow-CJNoMJHW.js";const z={class:"products-container"},B={class:"card-header"},N={class:"search-area"},I={class:"price-container"},F={class:"current-price"},A={key:0,class:"original-price"},S={class:"wholesale-popover"},L={class:"wholesale-popover-quantity"},j={class:"wholesale-popover-price"},H={key:1,class:"no-data"},D={class:"status-text"},E={class:"action-buttons"},O={class:"pagination-container"},X={class:"wholesale-header"},J={class:"wholesale-header-left"},K={key:0,class:"wholesale-description"},Q={class:"current-price-text"},R={key:1,class:"wholesale-table-container"},W={class:"wholesale-input-group"},Y={class:"wholesale-input-group"},Z={class:"wholesale-preview"},ee={class:"wholesale-preview-content"},le={key:2,class:"wholesale-empty"},ae={class:"editor-container"},te={class:"editor-toolbar"},ie={class:"status-text"},se=["innerHTML"],re={class:"dialog-footer"},ne=C(e({__name:"ProductsView",setup(e){const C=l({name:"",category:"",minPrice:null,maxPrice:null,deliveryMethod:"",status:""}),ne=a([{id:1,name:"Gmail邮箱-稳定可用 (手工)",category:"谷歌邮箱",currentPrice:4.2,originalPrice:6.5,stock:384,sales:368,deliveryMethod:"手动发货",feature:"稳定可用",specialNote:"支持自定义密码，支持换绑手机",description:"Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明...",instructions:"登录步骤：\n1. 访问 https://mail.google.com\n2. 输入您购买的Gmail账号\n3. 输入对应的密码\n4. 如果提示需要验证，请按照提示完成验证步骤",afterSaleInfo:"本店所售Gmail账号均为稳定可用账号，购买后7天内提供更换服务。",disclaimer:"请勿将账号用于非法用途，账号被封禁概不负责。",status:"上架中",statusBool:!0,createTime:"2024-03-01 10:00:00",wholesalePrices:[{quantity:10,price:3.9},{quantity:50,price:3.7},{quantity:100,price:3.5}]},{id:2,name:"Gmail邮箱-稳定可用",category:"谷歌邮箱",currentPrice:2.75,originalPrice:4,stock:575,sales:292,deliveryMethod:"自动发货",feature:"稳定可用",specialNote:"支持自定义密码",description:"Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明...",instructions:"登录步骤：\n1. 访问 https://mail.google.com\n2. 输入您购买的Gmail账号\n3. 输入对应的密码\n4. 如果提示需要验证，请按照提示完成验证步骤",afterSaleInfo:"本店所售Gmail账号均为稳定可用账号，购买后3天内提供更换服务。",disclaimer:"请勿将账号用于非法用途，账号被封禁概不负责。",status:"上架中",statusBool:!0,createTime:"2024-03-02 09:30:00",wholesalePrices:[{quantity:10,price:2.5},{quantity:50,price:2.3},{quantity:100,price:2}]},{id:3,name:"Gmail邮箱-1月以上",category:"谷歌邮箱",currentPrice:5.5,originalPrice:8,stock:23,sales:256,deliveryMethod:"自动发货",feature:"1个月以上",specialNote:"支持自定义密码，支持换绑手机",description:"Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明...",instructions:"登录步骤：\n1. 访问 https://mail.google.com\n2. 输入您购买的Gmail账号\n3. 输入对应的密码\n4. 如果提示需要验证，请按照提示完成验证步骤",afterSaleInfo:"本店所售Gmail账号均为稳定可用账号，购买后15天内提供更换服务。",disclaimer:"请勿将账号用于非法用途，账号被封禁概不负责。",status:"上架中",statusBool:!0,createTime:"2024-03-03 09:00:00",wholesalePrices:[{quantity:10,price:5.2},{quantity:50,price:5},{quantity:100,price:4.8}]},{id:4,name:"Gmail邮箱-半年以上",category:"谷歌邮箱",currentPrice:7.5,originalPrice:12,stock:740,sales:198,deliveryMethod:"自动发货",feature:"半年以上",status:"上架中",statusBool:!0,createTime:"2024-03-04 08:30:00",wholesalePrices:[{quantity:10,price:7.35},{quantity:50,price:7.05},{quantity:100,price:6.75}]},{id:5,name:"Gmail邮箱-美国稳定",category:"谷歌邮箱",currentPrice:10,originalPrice:18,stock:1060,sales:165,deliveryMethod:"自动发货",feature:"美国地区",status:"上架中",statusBool:!0,createTime:"2024-03-05 08:00:00"},{id:6,name:"Gmail邮箱-一年以上",category:"谷歌邮箱",currentPrice:12,originalPrice:15,stock:872,sales:142,deliveryMethod:"自动发货",feature:"一年以上",status:"上架中",statusBool:!0,createTime:"2024-03-06 08:00:00"},{id:7,name:"Gmail美国老号 (6个月+)",category:"谷歌邮箱",currentPrice:16.88,originalPrice:30,stock:138,sales:98,deliveryMethod:"自动发货",feature:"老号",status:"上架中",statusBool:!0,createTime:"2024-03-07 08:00:00"},{id:8,name:"2022年老号账号-谷歌邮箱",category:"谷歌邮箱",currentPrice:14,originalPrice:20,stock:52,sales:76,deliveryMethod:"自动发货",feature:"老号",status:"上架中",statusBool:!0,createTime:"2024-03-08 08:00:00"}]),oe=a(1),ce=a(10),de=a(0),ue=a(!1),pe=a(!1),me=a("add"),he=a(),ve=l({id:0,name:"",category:"",feature:"",currentPrice:0,originalPrice:0,stock:0,deliveryMethod:"自动发货",specialNote:"",description:"",statusBool:!0,wholesalePrices:[]});t((()=>ve),(()=>{Array.isArray(ve.wholesalePrices)||(ve.wholesalePrices=[])}),{deep:!0,immediate:!0});const ge=l({name:[{required:!0,message:"请输入商品名称",trigger:"blur"},{min:2,max:100,message:"长度在 2 到 100 个字符",trigger:"blur"}],category:[{required:!0,message:"请选择商品分类",trigger:"change"}],currentPrice:[{required:!0,message:"请输入当前价格",trigger:"blur"}],stock:[{required:!0,message:"请输入库存",trigger:"blur"}],deliveryMethod:[{required:!0,message:"请选择发货方式",trigger:"change"}],description:[{required:!0,message:"请输入商品详情",trigger:"blur"}]}),fe=()=>{ue.value=!0,setTimeout((()=>{const e=ne.value.filter((e=>{if(C.name&&!e.name.includes(C.name))return!1;if(C.category){if("gmail"===C.category&&"谷歌邮箱"!==e.category)return!1;if("microsoft"===C.category&&"微软邮箱"!==e.category)return!1;if("instagram"===C.category&&"Instagram账号"!==e.category)return!1;if("twitter"===C.category&&"Twitter账号"!==e.category)return!1;if("facebook"===C.category&&"Facebook账号"!==e.category)return!1;if("other"===C.category&&["谷歌邮箱","微软邮箱","Instagram账号","Twitter账号","Facebook账号"].includes(e.category))return!1}if(null!==C.minPrice&&e.currentPrice<C.minPrice)return!1;if(null!==C.maxPrice&&e.currentPrice>C.maxPrice)return!1;if(C.deliveryMethod&&e.deliveryMethod!==C.deliveryMethod)return!1;if(C.status){if("on"===C.status&&"上架中"!==e.status)return!1;if("off"===C.status&&"已下架"!==e.status)return!1}return!0}));de.value=e.length;const l=(oe.value-1)*ce.value,a=l+ce.value;ne.value=e.slice(l,a),ue.value=!1}),500)},we=()=>{oe.value=1,fe()},ye=()=>{C.name="",C.category="",C.minPrice=null,C.maxPrice=null,C.deliveryMethod="",C.status="",oe.value=1,fe()},be=()=>{me.value="add",ve.id=0,ve.name="",ve.category="",ve.currentPrice=0,ve.originalPrice=0,ve.stock=0,ve.deliveryMethod="自动发货",ve.feature="",ve.specialNote="",ve.description="",ve.statusBool=!0,ve.wholesalePrices=[],pe.value=!0},Pe=async()=>{he.value&&await he.value.validate(((e,l)=>{e&&("add"===me.value?$.success("新增商品成功"):$.success("编辑商品成功"),pe.value=!1)}))},_e=e=>{ce.value=e,fe()},ke=e=>{oe.value=e,fe()};t([()=>C.name,()=>C.category,()=>C.minPrice,()=>C.maxPrice,()=>C.deliveryMethod,()=>C.status],(()=>{oe.value=1,fe()}));const Ve=a(!1),xe={modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image"]]},placeholder:"请输入商品详情..."},Me=T(),qe=a([{id:1,name:"通用商品模板",category:"",content:'\n<h2>商品介绍</h2>\n<p>这是一个高质量的账号，具有以下特点...</p>\n\n<h2>账号规格</h2>\n<ul>\n  <li>账号类型：${category}</li>\n  <li>注册时间：${feature}</li>\n  <li>特殊功能：${specialNote}</li>\n</ul>\n\n<h2>使用说明</h2>\n<ol>\n  <li>购买成功后，系统将自动发送账号信息到您的邮箱</li>\n  <li>收到账号后请立即修改密码</li>\n  <li>请勿在账号中存储重要个人信息</li>\n  <li>如有登录问题，请及时联系客服</li>\n</ol>\n\n<h2>售后说明</h2>\n<p>1. 售后保障期：自购买之日起30天内</p>\n<p>2. 售后范围：账号无法登录、功能与描述不符</p>\n<p>3. 售后流程：请通过"我的订单"-"申请售后"提交申请</p>\n<p>4. 不支持售后的情况：</p>\n<ul>\n  <li>超出保障期的账号问题</li>\n  <li>因用户操作不当导致的账号问题</li>\n  <li>账号被用于违规用途</li>\n</ul>\n\n<h2>免责声明</h2>\n<p>1. 本平台仅提供账号交易服务，不对账号的后续使用负责</p>\n<p>2. 请遵守相关法律法规和平台规则使用账号</p>\n<p>3. 禁止将账号用于任何违法违规活动</p>\n<p>4. 平台保留对违规用户追究法律责任的权利</p>\n'},{id:2,name:"Gmail邮箱模板",category:"谷歌邮箱",content:"\n<h2>Gmail邮箱介绍</h2>\n<p>Gmail是Google提供的免费电子邮件服务，以下是使用Gmail账号的基本说明...</p>\n\n<h2>账号规格</h2>\n<ul>\n  <li>账号类型：谷歌邮箱</li>\n  <li>注册时间：${feature}</li>\n  <li>特殊功能：${specialNote}</li>\n</ul>\n\n<h2>使用说明</h2>\n<ol>\n  <li>购买成功后，系统将自动发送账号信息到您的邮箱</li>\n  <li>收到账号后请立即修改密码</li>\n  <li>请勿在账号中存储重要个人信息</li>\n  <li>如有登录问题，请及时联系客服</li>\n</ol>\n\n<h2>登录步骤</h2>\n<ol>\n  <li>访问 https://mail.google.com</li>\n  <li>输入您购买的Gmail账号</li>\n  <li>输入对应的密码</li>\n  <li>如果提示需要验证，请按照提示完成验证步骤</li>\n</ol>\n\n<h2>售后说明</h2>\n<p>本店所售Gmail账号均为稳定可用账号，购买后7天内提供更换服务。</p>\n\n<h2>免责声明</h2>\n<p>请勿将账号用于非法用途，账号被封禁概不负责。</p>\n"},{id:3,name:"社交媒体账号模板",category:"Instagram账号",content:"\n<h2>社交媒体账号介绍</h2>\n<p>这是一个高质量的社交媒体账号，具有以下特点...</p>\n\n<h2>账号规格</h2>\n<ul>\n  <li>账号类型：${category}</li>\n  <li>账号年龄：${feature}</li>\n  <li>特殊功能：${specialNote}</li>\n</ul>\n\n<h2>使用说明</h2>\n<ol>\n  <li>购买成功后，系统将自动发送账号信息到您的邮箱</li>\n  <li>收到账号后请立即修改密码和邮箱</li>\n  <li>请勿在账号中存储重要个人信息</li>\n  <li>如有登录问题，请及时联系客服</li>\n</ol>\n\n<h2>注意事项</h2>\n<ul>\n  <li>请勿短时间内频繁登录或修改账号信息，以免触发安全机制</li>\n  <li>建议使用代理IP登录，避免账号异常</li>\n  <li>请勿发布违规内容，以免账号被封</li>\n</ul>\n\n<h2>售后说明</h2>\n<p>本店所售社交媒体账号均为真实账号，购买后3天内提供更换服务。</p>\n\n<h2>免责声明</h2>\n<p>请勿将账号用于非法用途，账号被封禁概不负责。</p>\n"}]),$e=()=>{Ve.value=!0},Ge=()=>{const e=qe.value.find((e=>1===e.id))||qe.value[0];e&&Ce(e)},Te=e=>{Ce(e)},Ce=e=>{let l=e.content;l=l.replace(/\${category}/g,ve.category||"无"),l=l.replace(/\${feature}/g,ve.feature||"无"),l=l.replace(/\${specialNote}/g,ve.specialNote||"无"),ve.description=l,$.success(`已应用"${e.name}"模板`)},Ue=()=>{Me.push("/templates")},ze=()=>{const e=ve.currentPrice>0?Math.round(.95*ve.currentPrice*100)/100:0;let l=10;if(ve.wholesalePrices&&ve.wholesalePrices.length>0){l=Math.max(...ve.wholesalePrices.map((e=>e.quantity)))+10}Array.isArray(ve.wholesalePrices)||(ve.wholesalePrices=[]),ve.wholesalePrices.push({quantity:l,price:e}),Be(),$.success("已添加新的批发价区间")},Be=()=>{if(!Array.isArray(ve.wholesalePrices))return void(ve.wholesalePrices=[]);ve.wholesalePrices=ve.wholesalePrices.filter((e=>e&&e.quantity>0&&e.price>0));const e=ve.wholesalePrices.map((e=>e.quantity));e.length!==new Set(e).size&&$.warning("批发价设置中存在重复的数量，请修正");ve.wholesalePrices.some((e=>e.price>=ve.currentPrice))&&ve.currentPrice>0&&$.warning("批发价应低于商品单价，请修正"),ve.wholesalePrices.sort(((e,l)=>e.quantity-l.quantity));let l=!0;for(let a=1;a<ve.wholesalePrices.length;a++)if(ve.wholesalePrices[a].price>ve.wholesalePrices[a-1].price){l=!1;break}l||$.warning('批发价应遵循"数量越多价格越低"的原则，请修正')},Ne=e=>{if(!e||e<=0)return"无折扣";if(!ve.currentPrice||ve.currentPrice<=0)return"无折扣";if(e>=ve.currentPrice)return"无折扣";return`${(e/ve.currentPrice*10).toFixed(1)}折`},Ie=i((()=>ve.wholesalePrices&&Array.isArray(ve.wholesalePrices)&&0!==ve.wholesalePrices.length?[...ve.wholesalePrices].filter((e=>e&&e.quantity>0&&e.price>0)).sort(((e,l)=>e.quantity-l.quantity)):[]));return t((()=>ve.currentPrice),(e=>{if(e>0&&ve.wholesalePrices&&ve.wholesalePrices.length>0){ve.wholesalePrices.some((l=>l.price>=e))&&$.warning("当前价格已变更，请检查批发价设置")}})),s((()=>{fe()})),(e,l)=>{const a=c("el-button"),t=c("el-input"),i=c("el-form-item"),s=c("el-option"),T=c("el-select"),fe=c("el-input-number"),Me=c("el-form"),Ce=c("el-table-column"),Fe=c("el-tag"),Ae=c("el-popover"),Se=c("el-tooltip"),Le=c("el-switch"),je=c("el-table"),He=c("el-pagination"),De=c("el-card"),Ee=c("el-icon"),Oe=c("el-alert"),Xe=c("el-empty"),Je=c("el-radio"),Ke=c("el-radio-group"),Qe=c("el-dropdown-item"),Re=c("el-dropdown-menu"),We=c("el-dropdown"),Ye=c("el-dialog"),Ze=h("loading");return d(),r("div",z,[n(De,{class:"box-card"},{header:o((()=>[u("div",B,[l[22]||(l[22]=u("span",null,"商品管理",-1)),n(a,{type:"primary",size:"small",onClick:be},{default:o((()=>l[21]||(l[21]=[m("新增商品")]))),_:1})])])),default:o((()=>[l[32]||(l[32]=u("div",{class:"page-description"},[u("p",null,"管理所有邮箱账号和社交媒体账号商品，包括Gmail、微软邮箱、Instagram、Twitter、Facebook等账号。您可以添加、编辑、删除商品，并设置商品的价格、库存、发货方式等信息。")],-1)),u("div",N,[n(Me,{inline:!0,model:C,class:"demo-form-inline"},{default:o((()=>[n(i,{label:"商品名称"},{default:o((()=>[n(t,{modelValue:C.name,"onUpdate:modelValue":l[0]||(l[0]=e=>C.name=e),placeholder:"请输入商品名称",clearable:""},null,8,["modelValue"])])),_:1}),n(i,{label:"商品分类"},{default:o((()=>[n(T,{modelValue:C.category,"onUpdate:modelValue":l[1]||(l[1]=e=>C.category=e),placeholder:"请选择",clearable:"",style:{width:"168px"}},{default:o((()=>[n(s,{label:"全部",value:""}),n(s,{label:"谷歌邮箱",value:"gmail"}),n(s,{label:"微软邮箱",value:"microsoft"}),n(s,{label:"Instagram账号",value:"instagram"}),n(s,{label:"Twitter账号",value:"twitter"}),n(s,{label:"Facebook账号",value:"facebook"}),n(s,{label:"其他账号",value:"other"})])),_:1},8,["modelValue"])])),_:1}),n(i,{label:"价格区间"},{default:o((()=>[n(fe,{modelValue:C.minPrice,"onUpdate:modelValue":l[2]||(l[2]=e=>C.minPrice=e),min:0,placeholder:"最低价",class:"price-input"},null,8,["modelValue"]),l[23]||(l[23]=u("span",{class:"price-separator"},"-",-1)),n(fe,{modelValue:C.maxPrice,"onUpdate:modelValue":l[3]||(l[3]=e=>C.maxPrice=e),min:0,placeholder:"最高价",class:"price-input"},null,8,["modelValue"])])),_:1}),n(i,{label:"发货方式"},{default:o((()=>[n(T,{modelValue:C.deliveryMethod,"onUpdate:modelValue":l[4]||(l[4]=e=>C.deliveryMethod=e),placeholder:"请选择",clearable:"",style:{width:"168px"}},{default:o((()=>[n(s,{label:"全部",value:""}),n(s,{label:"自动发货",value:"auto"}),n(s,{label:"手动发货",value:"manual"})])),_:1},8,["modelValue"])])),_:1}),n(i,{label:"状态"},{default:o((()=>[n(T,{modelValue:C.status,"onUpdate:modelValue":l[5]||(l[5]=e=>C.status=e),placeholder:"请选择",clearable:"",style:{width:"168px"}},{default:o((()=>[n(s,{label:"全部",value:""}),n(s,{label:"上架中",value:"on"}),n(s,{label:"已下架",value:"off"})])),_:1},8,["modelValue"])])),_:1}),n(i,null,{default:o((()=>[n(a,{type:"primary",onClick:we},{default:o((()=>l[24]||(l[24]=[m("查询")]))),_:1}),n(a,{onClick:ye},{default:o((()=>l[25]||(l[25]=[m("重置")]))),_:1})])),_:1})])),_:1},8,["model"])]),p((d(),v(je,{data:ne.value,style:{width:"100%"},border:"",stripe:""},{default:o((()=>[n(Ce,{type:"index",label:"序号",width:"60"}),n(Ce,{prop:"name",label:"商品名称","min-width":"180"}),n(Ce,{prop:"category",label:"商品分类",width:"100"},{default:o((e=>{return[n(Fe,{type:(l=e.row.category,{"谷歌邮箱":"danger","微软邮箱":"success","Instagram账号":"warning","Twitter账号":"info","Facebook账号":"primary"}[l]||"info")},{default:o((()=>[m(g(e.row.category),1)])),_:2},1032,["type"])];var l})),_:1}),n(Ce,{label:"价格",width:"120"},{default:o((e=>[u("div",I,[u("span",F,"¥"+g(e.row.currentPrice),1),e.row.originalPrice?(d(),r("span",A,"¥"+g(e.row.originalPrice),1)):f("",!0)])])),_:1}),n(Ce,{prop:"stock",label:"库存",width:"80"},{default:o((e=>[u("span",{class:w({"low-stock":e.row.stock<50})},g(e.row.stock),3)])),_:1}),n(Ce,{prop:"sales",label:"销量",width:"80"}),n(Ce,{prop:"deliveryMethod",label:"发货方式",width:"100"},{default:o((e=>[n(Fe,{type:"自动发货"===e.row.deliveryMethod?"success":"info"},{default:o((()=>[m(g(e.row.deliveryMethod),1)])),_:2},1032,["type"])])),_:1}),n(Ce,{label:"批发价",width:"120"},{default:o((e=>[e.row.wholesalePrices&&e.row.wholesalePrices.length>0?(d(),v(Ae,{key:0,placement:"top",width:200,trigger:"hover"},{default:o((()=>[u("div",S,[l[26]||(l[26]=u("div",{class:"wholesale-popover-title"},"批发价格设置",-1)),(d(!0),r(y,null,b(e.row.wholesalePrices,((e,l)=>(d(),r("div",{class:"wholesale-popover-item",key:l},[u("span",L,"≥"+g(e.quantity),1),u("span",j,"¥"+g(e.price.toFixed(2)),1)])))),128))])])),reference:o((()=>[n(Fe,{type:"warning",effect:"plain"},{default:o((()=>l[27]||(l[27]=[m("查看批发价")]))),_:1})])),_:2},1024)):(d(),r("span",H,"无批发价"))])),_:1}),n(Ce,{prop:"feature",label:"商品特性",width:"120"},{default:o((e=>[e.row.feature?(d(),v(Fe,{key:0,size:"small",effect:"plain"},{default:o((()=>[m(g(e.row.feature),1)])),_:2},1024)):f("",!0)])),_:1}),n(Ce,{prop:"specialNote",label:"特殊说明",width:"120"},{default:o((e=>[e.row.specialNote?(d(),v(Se,{key:0,content:e.row.specialNote,placement:"top","show-after":500},{default:o((()=>[n(Fe,{size:"small",type:"warning",effect:"plain"},{default:o((()=>l[28]||(l[28]=[m("查看说明")]))),_:1})])),_:2},1032,["content"])):f("",!0)])),_:1}),n(Ce,{prop:"status",label:"状态",width:"100"},{default:o((e=>[n(Le,{modelValue:e.row.statusBool,"onUpdate:modelValue":l=>e.row.statusBool=l,"active-value":!0,"inactive-value":!1,onChange:l=>((e,l)=>{const a=e?"上架":"下架";$.success(`商品"${l.name}"已${a}`),l.status=e?"上架中":"已下架"})(l,e.row)},null,8,["modelValue","onUpdate:modelValue","onChange"]),u("span",D,g(e.row.statusBool?"上架中":"已下架"),1)])),_:1}),n(Ce,{prop:"createTime",label:"创建时间",width:"180"}),n(Ce,{label:"操作",width:"200",fixed:"right"},{default:o((e=>[u("div",E,[n(a,{size:"small",onClick:l=>(e=>{let l='<div class="no-wholesale">暂无批发价设置</div>';e.wholesalePrices&&e.wholesalePrices.length>0&&(l='<div class="wholesale-list">',e.wholesalePrices.forEach((e=>{l+=`\n        <div class="wholesale-view-item">\n          <span class="wholesale-badge">≥${e.quantity}</span>\n          <span class="wholesale-price">¥${e.price.toFixed(2)}</span>\n        </div>\n      `})),l+="</div>"),G.alert(`<div class="product-detail">\n      <h3>${e.name}</h3>\n      <div class="detail-item">\n        <span class="label">商品分类：</span>\n        <span>${e.category}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">商品特性：</span>\n        <span>${e.feature||"无"}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">价格：</span>\n        <span class="price">¥${e.currentPrice}</span>\n        ${e.originalPrice?`<span class="original-price">¥${e.originalPrice}</span>`:""}\n      </div>\n      <div class="detail-item">\n        <span class="label">批发价格：</span>\n        ${l}\n      </div>\n      <div class="detail-item">\n        <span class="label">库存：</span>\n        <span>${e.stock}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">销量：</span>\n        <span>${e.sales}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">发货方式：</span>\n        <span>${e.deliveryMethod}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">特殊说明：</span>\n        <span>${e.specialNote||"无"}</span>\n      </div>\n      <div class="detail-item">\n        <span class="label">商品描述：</span>\n        <div class="detail-content">${e.description||"无"}</div>\n      </div>\n      <div class="detail-item">\n        <span class="label">使用说明：</span>\n        <div class="detail-content">${e.instructions?e.instructions.replace(/\n/g,"<br>"):"无"}</div>\n      </div>\n      <div class="detail-item">\n        <span class="label">售后说明：</span>\n        <div class="detail-content">${e.afterSaleInfo||"无"}</div>\n      </div>\n      <div class="detail-item">\n        <span class="label">免责声明：</span>\n        <div class="detail-content">${e.disclaimer||"无"}</div>\n      </div>\n      <div class="detail-item">\n        <span class="label">创建时间：</span>\n        <span>${e.createTime}</span>\n      </div>\n    </div>`,"商品详情",{dangerouslyUseHTMLString:!0,confirmButtonText:"关闭"})})(e.row)},{default:o((()=>l[29]||(l[29]=[m("查看")]))),_:2},1032,["onClick"]),n(a,{size:"small",type:"primary",onClick:l=>{return a=e.row,me.value="edit",ve.id=a.id,ve.name=a.name,ve.category=a.category,ve.currentPrice=a.currentPrice,ve.originalPrice=a.originalPrice,ve.stock=a.stock,ve.deliveryMethod=a.deliveryMethod,ve.feature=a.feature,ve.specialNote=a.specialNote||"",ve.description=a.description||"",ve.statusBool=a.statusBool,a.wholesalePrices&&Array.isArray(a.wholesalePrices)?ve.wholesalePrices=[...a.wholesalePrices]:ve.wholesalePrices=[],void(pe.value=!0);var a}},{default:o((()=>l[30]||(l[30]=[m("编辑")]))),_:2},1032,["onClick"]),n(a,{size:"small",type:"danger",onClick:l=>{return a=e.row,void G.confirm(`确定要删除商品"${a.name}"吗？`,"警告",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{$({type:"success",message:`商品"${a.name}"已删除`})})).catch((()=>{$({type:"info",message:"已取消删除"})}));var a}},{default:o((()=>l[31]||(l[31]=[m("删除")]))),_:2},1032,["onClick"])])])),_:1})])),_:1},8,["data"])),[[Ze,ue.value]]),u("div",O,[n(He,{"current-page":oe.value,"onUpdate:currentPage":l[6]||(l[6]=e=>oe.value=e),"page-size":ce.value,"onUpdate:pageSize":l[7]||(l[7]=e=>ce.value=e),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next, jumper",total:de.value,onSizeChange:_e,onCurrentChange:ke,background:!0},null,8,["current-page","page-size","total"])])])),_:1}),n(Ye,{modelValue:pe.value,"onUpdate:modelValue":l[20]||(l[20]=e=>pe.value=e),title:"add"===me.value?"新增商品":"编辑商品",width:"650px"},{footer:o((()=>[u("span",re,[n(a,{onClick:l[19]||(l[19]=e=>pe.value=!1)},{default:o((()=>l[50]||(l[50]=[m("取消")]))),_:1}),n(a,{type:"primary",onClick:Pe},{default:o((()=>l[51]||(l[51]=[m("确定")]))),_:1})])])),default:o((()=>[n(Me,{model:ve,"label-width":"100px",rules:ge,ref_key:"productFormRef",ref:he},{default:o((()=>[n(i,{label:"商品名称",prop:"name"},{default:o((()=>[n(t,{modelValue:ve.name,"onUpdate:modelValue":l[8]||(l[8]=e=>ve.name=e),placeholder:"请输入商品名称"},null,8,["modelValue"])])),_:1}),n(i,{label:"商品分类",prop:"category"},{default:o((()=>[n(T,{modelValue:ve.category,"onUpdate:modelValue":l[9]||(l[9]=e=>ve.category=e),placeholder:"请选择商品分类",style:{width:"100%"}},{default:o((()=>[n(s,{label:"谷歌邮箱",value:"谷歌邮箱"}),n(s,{label:"微软邮箱",value:"微软邮箱"}),n(s,{label:"Instagram账号",value:"Instagram账号"}),n(s,{label:"Twitter账号",value:"Twitter账号"}),n(s,{label:"Facebook账号",value:"Facebook账号"}),n(s,{label:"Discord账号",value:"Discord账号"}),n(s,{label:"ChatGPT账号",value:"ChatGPT账号"}),n(s,{label:"雅虎邮箱",value:"雅虎邮箱"}),n(s,{label:"GMX邮箱",value:"GMX邮箱"}),n(s,{label:"TikTok账号",value:"TikTok账号"}),n(s,{label:"美国AOL邮箱",value:"美国AOL邮箱"}),n(s,{label:"ProtonMail邮箱",value:"ProtonMail邮箱"}),n(s,{label:"其他账号",value:"其他账号"})])),_:1},8,["modelValue"])])),_:1}),n(i,{label:"商品特性",prop:"feature"},{default:o((()=>[n(T,{modelValue:ve.feature,"onUpdate:modelValue":l[10]||(l[10]=e=>ve.feature=e),placeholder:"请选择商品特性",style:{width:"100%"}},{default:o((()=>[n(s,{label:"稳定可用",value:"稳定可用"}),n(s,{label:"1个月以上",value:"1个月以上"}),n(s,{label:"半年以上",value:"半年以上"}),n(s,{label:"一年以上",value:"一年以上"}),n(s,{label:"美国地区",value:"美国地区"}),n(s,{label:"老号",value:"老号"}),n(s,{label:"新号",value:"新号"})])),_:1},8,["modelValue"])])),_:1}),n(i,{label:"当前价格",prop:"currentPrice"},{default:o((()=>[n(fe,{modelValue:ve.currentPrice,"onUpdate:modelValue":l[11]||(l[11]=e=>ve.currentPrice=e),min:0,precision:2,step:.01,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(i,{label:"原价",prop:"originalPrice"},{default:o((()=>[n(fe,{modelValue:ve.originalPrice,"onUpdate:modelValue":l[12]||(l[12]=e=>ve.originalPrice=e),min:0,precision:2,step:.01,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(i,{label:"库存",prop:"stock"},{default:o((()=>[n(fe,{modelValue:ve.stock,"onUpdate:modelValue":l[13]||(l[13]=e=>ve.stock=e),min:0,style:{width:"100%"}},null,8,["modelValue"])])),_:1}),n(i,{label:"批发价设置"},{default:o((()=>[n(De,{shadow:"never",class:"wholesale-card"},{header:o((()=>[u("div",X,[u("div",J,[l[33]||(l[33]=u("span",{class:"wholesale-title"},"批发价格区间设置",-1)),n(Se,{content:"设置不同数量区间的批发价格，客户购买数量达到要求时将自动享受优惠",placement:"top"},{default:o((()=>[n(Ee,{class:"wholesale-help-icon"},{default:o((()=>[n(P(x))])),_:1})])),_:1})]),n(a,{type:"primary",size:"small",onClick:k(ze,["prevent"])},{default:o((()=>[n(Ee,null,{default:o((()=>[n(P(V))])),_:1}),l[34]||(l[34]=m("添加区间 "))])),_:1})])])),default:o((()=>[ve.wholesalePrices&&ve.wholesalePrices.length>0?(d(),r("div",K,[n(Oe,{type:"info",closable:!1,"show-icon":""},{title:o((()=>[u("span",null,[l[35]||(l[35]=m("当前单价: ")),u("span",Q,"¥"+g(ve.currentPrice.toFixed(2)),1)])])),default:o((()=>l[36]||(l[36]=[u("p",{class:"wholesale-tip"},"设置批发价格区间，当客户购买数量达到要求时将自动享受优惠价格。请确保批发价低于单价，且数量越多价格越优惠。",-1)]))),_:1})])):f("",!0),ve.wholesalePrices&&ve.wholesalePrices.length>0?(d(),r("div",R,[n(je,{data:ve.wholesalePrices,border:"",stripe:"",size:"small",class:"wholesale-table"},{default:o((()=>[n(Ce,{label:"序号",type:"index",width:"60",align:"center"}),n(Ce,{label:"起批数量",width:"180"},{default:o((e=>[u("div",W,[l[37]||(l[37]=u("span",{class:"wholesale-prefix"},"≥",-1)),n(fe,{modelValue:e.row.quantity,"onUpdate:modelValue":l=>e.row.quantity=l,min:1,precision:0,size:"small",class:"wholesale-quantity-input",placeholder:"数量","controls-position":"right",onChange:Be},null,8,["modelValue","onUpdate:modelValue"]),l[38]||(l[38]=u("span",{class:"wholesale-unit"},"件",-1))])])),_:1}),n(Ce,{label:"批发单价",width:"180"},{default:o((e=>[u("div",Y,[l[39]||(l[39]=u("span",{class:"wholesale-prefix"},"¥",-1)),n(fe,{modelValue:e.row.price,"onUpdate:modelValue":l=>e.row.price=l,min:.01,precision:2,step:.01,size:"small",class:"wholesale-price-input",placeholder:"价格","controls-position":"right",onChange:Be},null,8,["modelValue","onUpdate:modelValue"]),l[40]||(l[40]=u("span",{class:"wholesale-unit"},"/件",-1))])])),_:1}),n(Ce,{label:"优惠",width:"120"},{default:o((e=>[u("span",{class:w(["discount-text",{"discount-invalid":e.row.price>=ve.currentPrice}])},g(Ne(e.row.price)),3)])),_:1}),n(Ce,{label:"操作",width:"100",align:"center"},{default:o((e=>[n(a,{type:"danger",size:"small",circle:"",onClick:l=>{return a=e.$index,void ve.wholesalePrices.splice(a,1);var a},class:"wholesale-delete"},{default:o((()=>[n(Ee,null,{default:o((()=>[n(P(_))])),_:1})])),_:2},1032,["onClick"])])),_:1})])),_:1},8,["data"]),u("div",Z,[l[41]||(l[41]=u("div",{class:"wholesale-preview-title"},"批发价格预览",-1)),u("div",ee,[(d(!0),r(y,null,b(Ie.value,((e,l)=>(d(),v(Fe,{key:l,size:"large",type:"danger",effect:"plain",class:"wholesale-preview-tag"},{default:o((()=>[m(" ≥"+g(e.quantity)+"/¥"+g(e.price.toFixed(2)),1)])),_:2},1024)))),128))])])])):(d(),r("div",le,[n(Xe,{description:"暂无批发价设置","image-size":60},{description:o((()=>l[42]||(l[42]=[u("p",null,"设置批发价可以鼓励客户批量购买，提高销售额",-1)]))),default:o((()=>[n(a,{type:"primary",onClick:k(ze,["prevent"])},{default:o((()=>[n(Ee,null,{default:o((()=>[n(P(V))])),_:1}),l[43]||(l[43]=m("添加批发价区间 "))])),_:1})])),_:1})]))])),_:1})])),_:1}),n(i,{label:"发货方式",prop:"deliveryMethod"},{default:o((()=>[n(Ke,{modelValue:ve.deliveryMethod,"onUpdate:modelValue":l[14]||(l[14]=e=>ve.deliveryMethod=e)},{default:o((()=>[n(Je,{label:"自动发货"},{default:o((()=>l[44]||(l[44]=[m("自动发货")]))),_:1}),n(Je,{label:"手动发货"},{default:o((()=>l[45]||(l[45]=[m("手动发货")]))),_:1})])),_:1},8,["modelValue"])])),_:1}),n(i,{label:"特殊说明",prop:"specialNote"},{default:o((()=>[n(t,{modelValue:ve.specialNote,"onUpdate:modelValue":l[15]||(l[15]=e=>ve.specialNote=e),placeholder:"例如：支持自定义密码、支持换绑手机等"},null,8,["modelValue"])])),_:1}),n(i,{label:"商品详情",prop:"description"},{default:o((()=>[u("div",ae,[u("div",te,[n(a,{type:"primary",size:"small",onClick:Ge},{default:o((()=>l[46]||(l[46]=[m("插入默认模板")]))),_:1}),n(We,{onCommand:Te,trigger:"click"},{dropdown:o((()=>[n(Re,null,{default:o((()=>[(d(!0),r(y,null,b(qe.value,(e=>(d(),v(Qe,{key:e.id,command:e},{default:o((()=>[m(g(e.name)+" ",1),e.category?(d(),v(Fe,{key:0,size:"small",style:{"margin-left":"5px"}},{default:o((()=>[m(g(e.category),1)])),_:2},1024)):f("",!0)])),_:2},1032,["command"])))),128))])),_:1})])),default:o((()=>[n(a,{size:"small",type:"success"},{default:o((()=>[l[47]||(l[47]=m(" 选择模板 ")),n(Ee,{class:"el-icon--right"},{default:o((()=>[n(P(M))])),_:1})])),_:1})])),_:1}),n(a,{size:"small",onClick:$e},{default:o((()=>l[48]||(l[48]=[m("预览效果")]))),_:1}),n(a,{size:"small",type:"info",plain:"",onClick:Ue},{default:o((()=>[n(Ee,null,{default:o((()=>[n(P(q))])),_:1}),l[49]||(l[49]=m(" 管理模板 "))])),_:1})]),n(P(U),{content:ve.description,"onUpdate:content":l[16]||(l[16]=e=>ve.description=e),contentType:"html",theme:"snow",toolbar:"full",options:xe,style:{height:"400px"}},null,8,["content"])])])),_:1}),n(i,{label:"状态"},{default:o((()=>[n(Le,{modelValue:ve.statusBool,"onUpdate:modelValue":l[17]||(l[17]=e=>ve.statusBool=e)},null,8,["modelValue"]),u("span",ie,g(ve.statusBool?"上架":"下架"),1)])),_:1})])),_:1},8,["model","rules"]),n(Ye,{modelValue:Ve.value,"onUpdate:modelValue":l[18]||(l[18]=e=>Ve.value=e),title:"内容预览",width:"70%","destroy-on-close":""},{default:o((()=>[u("div",{class:"preview-container",innerHTML:ve.description},null,8,se)])),_:1},8,["modelValue"])])),_:1},8,["modelValue","title"])])}}}),[["__scopeId","data-v-05c04326"]]);export{ne as default};
